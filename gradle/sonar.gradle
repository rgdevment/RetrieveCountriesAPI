sonar {
    properties {
        property "sonar.projectKey", "rgdevment_RetrieveCountriesAPI"
        property "sonar.organization", "rgdevment"
        property "sonar.host.url", "https://sonarcloud.io"

        property "sonar.java.checkstyle.reportPaths", [
                "build/reports/checkstyle/main.xml",
                "build/reports/checkstyle/test.xml"
        ].join(",")
        property "sonar.coverage.jacoco.xmlReportPaths", "build/reports/jacoco/test/jacocoTestReport.xml"

        property "sonar.java.coveragePlugin", "jacoco"
        property "sonar.coverage.exclusions", [
                "src/**/populate/Populate.java",
                "src/**/RetrieveCountriesApiApplication.java"
        ].join(",")
    }
}

project.tasks.named("sonar").configure {
    dependsOn "check"
}
